<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI State Management Demo - Messenger</title>
    <link rel="stylesheet" href="ui-state-demo.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üß© UI State Management Demo</h1>
            <p>V√≠ d·ª• th·ª±c t·∫ø v·ªÅ normalization, search optimization v√† memory management</p>
        </header>

        <div class="demo-controls">
            <button id="loadData">üìä Load Sample Data</button>
            <button id="searchMessages">üîç Search Messages</button>
            <button id="showNormalized">üìã Show Normalized Data</button>
            <button id="memoryTest">üíæ Memory Management Test</button>
        </div>

        <div class="demo-sections">
            <!-- Data Structure Comparison -->
            <section class="demo-section">
                <h2>üìä So s√°nh c·∫•u tr√∫c d·ªØ li·ªáu</h2>
                <div class="comparison">
                    <div class="data-structure">
                        <h3>‚ùå Non-normalized (Ch·∫≠m)</h3>
                        <pre id="nonNormalizedData"></pre>
                        <p class="performance">T√¨m message: O(n*m) - Ch·∫≠m!</p>
                    </div>
                    <div class="data-structure">
                        <h3>‚úÖ Normalized (Nhanh)</h3>
                        <pre id="normalizedData"></pre>
                        <p class="performance">T√¨m message: O(1) - Nhanh!</p>
                    </div>
                </div>
            </section>

            <!-- Search Optimization -->
            <section class="demo-section">
                <h2>üîç Search Optimization v·ªõi Inverted Index</h2>
                <div class="search-demo">
                    <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm tin nh·∫Øn...">
                    <button id="performSearch">T√¨m ki·∫øm</button>
                    <div id="searchResults"></div>
                    <div class="index-info">
                        <h4>Inverted Index:</h4>
                        <pre id="invertedIndex"></pre>
                    </div>
                </div>
            </section>

            <!-- Memory Management -->
            <section class="demo-section">
                <h2>üíæ Memory Management</h2>
                <div class="memory-demo">
                    <div class="storage-info">
                        <h4>Storage Types:</h4>
                        <ul>
                            <li><strong>Session Storage:</strong> <span id="sessionInfo">T·∫°m th·ªùi</span></li>
                            <li><strong>Local Storage:</strong> <span id="localInfo">Persistent</span></li>
                            <li><strong>IndexedDB:</strong> <span id="indexedInfo">Large data</span></li>
                        </ul>
                    </div>
                    <div class="memory-controls">
                        <button id="loadToMemory">Load to Memory</button>
                        <button id="saveToIndexedDB">Save to IndexedDB</button>
                        <button id="clearMemory">Clear Memory</button>
                    </div>
                    <div id="memoryStatus"></div>
                </div>
            </section>

            <!-- Performance Metrics -->
            <section class="demo-section">
                <h2>‚ö° Performance Metrics</h2>
                <div class="metrics">
                    <div class="metric">
                        <h4>Search Performance</h4>
                        <p>Non-normalized: <span id="slowSearchTime">-</span>ms</p>
                        <p>Normalized: <span id="fastSearchTime">-</span>ms</p>
                    </div>
                    <div class="metric">
                        <h4>Memory Usage</h4>
                        <p>Current: <span id="currentMemory">-</span>MB</p>
                        <p>Peak: <span id="peakMemory">-</span>MB</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="ui-state-demo.js"></script>
</body>
</html>
